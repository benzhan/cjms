<?php

require_once 'BaseTest.php';

class DiyConfigControllerTest extends BaseTest {
    protected $obj;
    
    public function __construct() {
        $this->obj = new DiyConfigController();
    }
    
    public function actionSaveTableAndFields() {
        $param = 'tableId=99a3b406-b929-4609-6049-7af92aea273f&tableName=%E6%B5%8B%E8%AF%95&tableCName=%E6%B5%8B%E8%AF%95&pagination=20&tableInfo=&extraJsCss=&sourceHost=127.0.0.1&sourcePort=3306&sourceDb=Report&sourceType=&sourceTable=Cmdb3Field&sourceUser=root&sourcePass=root&sourceCallBack=&editFlag=0&bookFlag=1&excelFlag=1&groupFlag=1&chartFlag=1&fields=%5B%7B%22fieldId%22%3A%220c8e357a-8b66-d230-c66e-5f7207b46169%22%2C%22fieldName%22%3A%22fieldId%22%2C%22fieldCName%22%3A%22%E5%AD%97%E6%AE%B5id%22%2C%22fieldSortName%22%3A%22fieldId%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A0%7D%2C%7B%22fieldId%22%3A%224f064b08-f8b4-6683-dc96-9061f2adc1f3%22%2C%22fieldName%22%3A%22fieldName%22%2C%22fieldCName%22%3A%22%E5%AD%97%E6%AE%B5%E5%90%8D%22%2C%22fieldSortName%22%3A%22fieldName%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A1%7D%2C%7B%22fieldId%22%3A%228bfc600f-9072-9e7c-9277-9c90b2e82fdf%22%2C%22fieldName%22%3A%22fieldCName%22%2C%22fieldCName%22%3A%22%E5%AD%97%E6%AE%B5%E4%B8%AD%E6%96%87%E5%90%8D%22%2C%22fieldSortName%22%3A%22fieldCName%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A2%7D%2C%7B%22fieldId%22%3A%228cb6103d-d22c-9f27-7048-9b1b7d1ec7a2%22%2C%22fieldName%22%3A%22fieldSortName%22%2C%22fieldCName%22%3A%22fieldSortName%22%2C%22fieldSortName%22%3A%22fieldSortName%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A3%7D%2C%7B%22fieldId%22%3A%22bfe41178-e305-e760-396e-0ac1e91910cf%22%2C%22fieldName%22%3A%22callBack%22%2C%22fieldCName%22%3A%22callBack%22%2C%22fieldSortName%22%3A%22callBack%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22text%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A4%7D%2C%7B%22fieldId%22%3A%22bd44a770-c48e-0ff0-9743-4e07444e73dc%22%2C%22fieldName%22%3A%22tableId%22%2C%22fieldCName%22%3A%22tableId%22%2C%22fieldSortName%22%3A%22tableId%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A5%7D%2C%7B%22fieldId%22%3A%224e18377a-63a0-9593-120c-601faa0b042b%22%2C%22fieldName%22%3A%22fieldType%22%2C%22fieldCName%22%3A%22fieldType%22%2C%22fieldSortName%22%3A%22fieldType%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A6%7D%2C%7B%22fieldId%22%3A%22666b796e-59cd-4e95-7470-4ea793c4f8b1%22%2C%22fieldName%22%3A%22fieldLength%22%2C%22fieldCName%22%3A%22fieldLength%22%2C%22fieldSortName%22%3A%22fieldLength%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22text%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A7%7D%2C%7B%22fieldId%22%3A%22fc42a8ba-4ac0-71bb-b09e-721d4684a0ba%22%2C%22fieldName%22%3A%22defaultSortKey%22%2C%22fieldCName%22%3A%22defaultSortKey%22%2C%22fieldSortName%22%3A%22defaultSortKey%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A8%7D%2C%7B%22fieldId%22%3A%22fbffd7cf-71dd-69ca-fac5-b075d79bd3c3%22%2C%22fieldName%22%3A%22defaultSortOrder%22%2C%22fieldCName%22%3A%22defaultSortOrder%22%2C%22fieldSortName%22%3A%22defaultSortOrder%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A9%7D%2C%7B%22fieldId%22%3A%2242e0a09b-cdfe-0461-c0e2-e99b53a5c9a1%22%2C%22fieldName%22%3A%22fieldPosition%22%2C%22fieldCName%22%3A%22fieldPosition%22%2C%22fieldSortName%22%3A%22fieldPosition%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A10%7D%2C%7B%22fieldId%22%3A%224f897f1a-ccad-049b-37c0-9261e551839c%22%2C%22fieldName%22%3A%22fieldDisplay%22%2C%22fieldCName%22%3A%22%E6%98%BE%E7%A4%BA%E7%B1%BB%E5%9E%8B%22%2C%22fieldSortName%22%3A%22fieldDisplay%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A11%7D%2C%7B%22fieldId%22%3A%22a54dfabe-0648-c2fb-3b9b-28c77da3a33b%22%2C%22fieldName%22%3A%22fieldVirtualValue%22%2C%22fieldCName%22%3A%22%E8%A7%84%E5%88%99%22%2C%22fieldSortName%22%3A%22fieldVirtualValue%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A12%7D%2C%7B%22fieldId%22%3A%227c9d2de7-4517-1996-0818-fc8c8262d231%22%2C%22fieldName%22%3A%22fieldMap%22%2C%22fieldCName%22%3A%22fieldMap%22%2C%22fieldSortName%22%3A%22fieldMap%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A13%7D%2C%7B%22fieldId%22%3A%220d40b46c-2c66-5d58-7939-383953c91826%22%2C%22fieldName%22%3A%22defaultDisplay%22%2C%22fieldCName%22%3A%22%E9%BB%98%E8%AE%A4%E6%98%BE%E7%A4%BA%22%2C%22fieldSortName%22%3A%22defaultDisplay%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A14%7D%2C%7B%22fieldId%22%3A%224e8cd948-bbbb-a1aa-5f87-1d283cb67b41%22%2C%22fieldName%22%3A%22defaultValue%22%2C%22fieldCName%22%3A%22%E9%BB%98%E8%AE%A4%E5%80%BC%22%2C%22fieldSortName%22%3A%22defaultValue%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A15%7D%2C%7B%22fieldId%22%3A%22ae9d7bc5-b561-c4ae-cc73-53de8c6b0606%22%2C%22fieldName%22%3A%22needMerge%22%2C%22fieldCName%22%3A%22%E6%98%AF%E5%90%A6%E5%90%88%E5%B9%B6%22%2C%22fieldSortName%22%3A%22needMerge%22%2C%22defaultSortOrder%22%3A%22%22%2C%22fieldType%22%3A%22int%22%2C%22fieldLength%22%3A%22%22%2C%22callBack%22%3A%22%22%2C%22fieldDisplay%22%3A4%2C%22needMerge%22%3A0%2C%22fieldVirtualValue%22%3A%22%22%2C%22defaultValue%22%3A%22%22%2C%22fieldMap%22%3A%22%22%2C%22fieldPosition%22%3A16%7D%5D';
        parse_str($param, $args);
        
        $this->obj->actionSaveTableAndFields($args);
    }
    
    public function actionGetFieldTable() {
        $param = 'tableId=undefined&sourceHost=127.0.0.1&sourcePort=3306&sourceUser=root&sourcePass=&sourceDb=&sourceTable=&loadType=1';
        parse_str($param, $args);
        
        $this->obj->actionGetFieldTable($args);
    }

}

$obj = new DiyConfigControllerTest();
$obj->actionGetFieldTable();
